<!DOCTYPE html>
<html class="no-js" lang="en"><head><link media="all" href="https://patrickgodbey.com/wp-content/cache/autoptimize/css/autoptimize_40b500221c31559b85e927f0a06a5575.css" rel="stylesheet"><title>Adding Basic Auth to site on Laravel Forge - Patrick Godbey</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><link rel="canonical" href="https://patrickgodbey.com/2019/09/25/adding-basic-auth-to-site-on-laravel-forge/"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Adding Basic Auth to site on Laravel Forge - Patrick Godbey"><meta property="og:description" content="Here I am going to outline how I added basic auth to my build environment for this site. I switched servers to run on Laravel Forge, and the only instructions I could find for how to do this were several years (and versions of Forge) old. I know the server is running nginx, and I&nbsp; &hellip; Read more"><meta property="og:url" content="https://patrickgodbey.com/2019/09/25/adding-basic-auth-to-site-on-laravel-forge/"><meta property="og:site_name" content="Patrick Godbey"><meta property="article:published_time" content="2019-09-25T13:45:36+00:00"><meta property="og:image" content=""><meta name="twitter:card" content="summary_large_image"> <script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"WebSite","@id":"https://patrickgodbey.com/#website","url":"https://patrickgodbey.com/","name":"Patrick Godbey","description":"home of patrick godbey","potentialAction":[{"@type":"SearchAction","target":"https://patrickgodbey.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://patrickgodbey.com/2019/09/25/adding-basic-auth-to-site-on-laravel-forge/#primaryimage","inLanguage":"en-US","url":"file:///C:/Users/patri/Documents/Publii/sites/patrickgodbeycom/preview/media/posts/13/scrnli_9_25_2019_11-18-16-AM-470x240.png"},{"@type":"WebPage","@id":"https://patrickgodbey.com/2019/09/25/adding-basic-auth-to-site-on-laravel-forge/#webpage","url":"https://patrickgodbey.com/2019/09/25/adding-basic-auth-to-site-on-laravel-forge/","name":"Adding Basic Auth to site on Laravel Forge - Patrick Godbey","isPartOf":{"@id":"https://patrickgodbey.com/#website"},"primaryImageOfPage":{"@id":"https://patrickgodbey.com/2019/09/25/adding-basic-auth-to-site-on-laravel-forge/#primaryimage"},"datePublished":"2019-09-25T13:45:36+00:00","dateModified":"2019-09-25T13:45:36+00:00","author":{"@id":"https://patrickgodbey.com/#/schema/person/fee309bea42cb370692541b4722b5517"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://patrickgodbey.com/2019/09/25/adding-basic-auth-to-site-on-laravel-forge/"]}]},{"@type":"Person","@id":"https://patrickgodbey.com/#/schema/person/fee309bea42cb370692541b4722b5517","name":"patrickg","image":{"@type":"ImageObject","@id":"https://patrickgodbey.com/#personlogo","inLanguage":"en-US","url":"https://secure.gravatar.com/avatar/93cbc1c33b5c9db4af6aea8de282d153?s=96&d=mm&r=g","caption":"patrickg"},"sameAs":["https://patrickgodbey.com"]}]}</script> <link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="stylesheet" id="font-awesome-css-css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" type="text/css" media="all"><link rel="alternate" type="application/json" href="https://patrickgodbey.com/wp-json/wp/v2/posts/15"><link rel="alternate" type="application/json+oembed" href="https://patrickgodbey.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fpatrickgodbey.com%2F2019%2F09%2F25%2Fadding-basic-auth-to-site-on-laravel-forge%2F"><link rel="alternate" type="text/xml+oembed" href="https://patrickgodbey.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fpatrickgodbey.com%2F2019%2F09%2F25%2Fadding-basic-auth-to-site-on-laravel-forge%2F&amp;format=xml"></head><body class="post-template-default single single-post postid-15 single-format-standard"><div class="container-fluid bg-dark py-2"><div class="container"><div class="row bg-dark "><div class="col"> <img src="https://patrickgodbey.com/contents/ui/pg/theme/img/patrickgodbey_logicon.png" alt="Patrick Godbey" class="src"> <a class="navbar-brand align-middle" href="https://patrickgodbey.com/">Patrick Godbey</a></div><div class="col"><nav class="navbar navbar-expand-md navbar-dark "><div class="collapse navbar-collapse" id="navbarNavDropdown"><ul id="menu-main" class="navbar-nav ml-auto mt-2 mt-lg-0 "><li id="menu-item-62" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home nav-item nav-item-62"><a href="https://patrickgodbey.com/" class="nav-link">Home</a></li><li id="menu-item-59" class="menu-item menu-item-type-post_type menu-item-object-page nav-item nav-item-59"><a href="https://patrickgodbey.com/about/" class="nav-link">About</a></li><li id="menu-item-38" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent nav-item nav-item-38"><a href="https://patrickgodbey.com/blog/" class="nav-link">Blog</a></li></ul></div></nav></div></div></div></div><div class="col"><div class="container-fluid"><div class="container"><div class="breadcrumb-bar navbar bg-white sticky-top"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://patrickgodbey.com/">Home</a></li><li class="breadcrumb-item"><a href="https://patrickgodbey.com/category/tutorial/">Tutorial</a></li><li class="breadcrumb-item active">Adding Basic Auth to site on Laravel Forge</li></ol></div></div></div><div class="container"><div class="row"><div class="col-9 justify-content-center"><div class="col-sm-12"><div id="content" role="main"><article role="article" id="post_15" class="post-15 post type-post status-publish format-standard hentry category-tutorial tag-htpasswd"><header><h2 class="display-4 mb-3"> Adding Basic Auth to site on Laravel Forge</h2><h5> <em> <span class="text-muted author">By patrickg,</span> <time class="text-muted" datetime="25-09-2019">25th September 2019</time> </em></h5><p class="text-muted" style="margin-bottom: 30px;"> <i class="fa fa-folder-open-o"></i>&nbsp;
 Filed under: <a href="https://patrickgodbey.com/category/tutorial/" rel="category tag">tutorial</a><br></p></header><section><p>Here I am going to outline how I added basic auth to my build environment for this site. I switched servers to run on Laravel Forge, and the only instructions I could find for how to do this were several years (and versions of Forge) old. I know the server is running nginx, and I know how to do this manually, but I don&rsquo;t want to go around any infrastructure Forge has setup and ham-fist it.</p><h2>Generate htpasswd</h2><p>First thing you need to do is generate your htpasswd file. Search for an htpasswd generator and enter in a username and password. The result will be a single line string separated by a colon. Copy that entire string and keep it handy.</p><h2>Create htpasswd file</h2><p>Next, SSH into your server, and create the file <code>.htpasswd</code><br> I created mine in <code>/etc/nginx/</code></p><p><code>cd /etc/nginx<br> sudo nano .htpasswd</code></p><p>(if doing multiple sites, you can name this whatever you want, just remember to reference it when adding it to the config below)</p><p>paste in your generated authorization line here</p><p>ctrl+x and then y to save the file.</p><h2>Edit nginx config</h2><p>Next go to your Forge dashboard, and go to your specific site. At the bottom of the screen there is a grey button/pill/badge labled files.<br> Click that, and then edit nginx configuration.</p><figure class="aligncenter size-medium wp-image-115"><img loading="lazy" src="file:///C:/Users/patri/Documents/Publii/sites/patrickgodbeycom/preview/media/posts/13/scrnli_9_25_2019_11-18-16-AM-470x240.png" sizes="(max-width: 768px) 100vw, 768px" srcset="file:///C:/Users/patri/Documents/Publii/sites/patrickgodbeycom/preview/media/posts/13/responsive/scrnli_9_25_2019_11-18-16-AM-470x240-xs.png 300w,file:///C:/Users/patri/Documents/Publii/sites/patrickgodbeycom/preview/media/posts/13/responsive/scrnli_9_25_2019_11-18-16-AM-470x240-sm.png 480w,file:///C:/Users/patri/Documents/Publii/sites/patrickgodbeycom/preview/media/posts/13/responsive/scrnli_9_25_2019_11-18-16-AM-470x240-md.png 768w" alt="" width="470" height="240"></figure><p>After that, you need to add two lines to your configuration file. Be careful not to disturb anything you are unsure of. Find the top of your <code>server{}</code> block and you need to add two lines. The first, the directive to restrict content and display the message of the alert box. The second line, is the path to your .htpasswd file.</p><figure class="aligncenter size-medium wp-image-116"><img loading="lazy" src="file:///C:/Users/patri/Documents/Publii/sites/patrickgodbeycom/preview/media/posts/13/scrnli_9_25_2019_11-18-16-AM-1-470x240.png" sizes="(max-width: 768px) 100vw, 768px" srcset="file:///C:/Users/patri/Documents/Publii/sites/patrickgodbeycom/preview/media/posts/13/responsive/scrnli_9_25_2019_11-18-16-AM-1-470x240-xs.png 300w,file:///C:/Users/patri/Documents/Publii/sites/patrickgodbeycom/preview/media/posts/13/responsive/scrnli_9_25_2019_11-18-16-AM-1-470x240-sm.png 480w,file:///C:/Users/patri/Documents/Publii/sites/patrickgodbeycom/preview/media/posts/13/responsive/scrnli_9_25_2019_11-18-16-AM-1-470x240-md.png 768w" alt="" width="470" height="240"></figure><p><code> auth_basic "Restricted Content";<br> auth_basic_user_file /etc/nginx/.htpasswd;</code></p><p>If you want to do this with multiple sites, you should name your files something more recognizable, such as sitename.htpasswd and then reference those specifically in your settings.</p></section></article></div></div></div></div></div><footer class="container"><div class="row"><div class="archives-2 widget_archive col-sm-4"><h4>Archives</h4><ul><li><a href="https://patrickgodbey.com/2020/06/">June 2020</a></li><li><a href="https://patrickgodbey.com/2020/05/">May 2020</a></li><li><a href="https://patrickgodbey.com/2020/03/">March 2020</a></li><li><a href="https://patrickgodbey.com/2020/01/">January 2020</a></li><li><a href="https://patrickgodbey.com/2019/09/">September 2019</a></li><li><a href="https://patrickgodbey.com/2019/06/">June 2019</a></li><li><a href="https://patrickgodbey.com/2019/03/">March 2019</a></li></ul></div><div class="categories-2 widget_categories col-sm-4"><h4>Categories</h4><ul><li class="cat-item cat-item-2"><a href="https://patrickgodbey.com/category/blog/">blog</a></li><li class="cat-item cat-item-3"><a href="https://patrickgodbey.com/category/rant/">rant</a></li><li class="cat-item cat-item-4"><a href="https://patrickgodbey.com/category/tutorial/">tutorial</a></li></ul></div><div class="meta-2 widget_meta col-sm-4"><h4>Meta</h4><ul><li><a rel="nofollow" href="https://patrickgodbey.com/wp-login.php">Log in</a></li><li><a href="https://patrickgodbey.com/feed/">Entries feed</a></li><li><a href="https://patrickgodbey.com/comments/feed/">Comments feed</a></li><li><a href="https://wordpress.org/">WordPress.org</a></li></ul></div></div><div class="row"><div class="col-12 text-center"><p class="text-center"><img src="https://img.shields.io/date/1603353909.svg?label=build%20date&amp;style=flat-square" alt="build date"> <img src="https://img.shields.io/uptimerobot/ratio/m782705601-0fbfd090aabee849c89f77e0.svg?style=flat-square" alt="uptime"></p></div><div class="col-12 text-center text-muted small"> This site is a work in progress. It's gonna look like shit but I'm adding to it as I go.</div><p class="w-100 mb-4 text-center"></p></div></footer></div>  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" id="jquery-3.2.1-js"></script> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" id="modernizr-js"></script> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" id="popper-js"></script> <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta.2/js/bootstrap.min.js" id="bootstrap-js-js"></script>  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-142626843-1"></script> <script>window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'UA-142626843-1');</script> <script defer src="https://patrickgodbey.com/wp-content/cache/autoptimize/js/autoptimize_e1af7793a5988fd0bbf0eeb2c149f602.js"></script></body></html>
